<%#
# Reusable Button Component
#
# Local variables:
#   text - Button text content
#   style - Hash of style options (optional)
#     type: :primary (default pixel button) or :secondary (logout style)
#     url: Link URL (optional, defaults to #)
#     method: HTTP method (optional, defaults to :get)
#
# Examples:
#   render "shared/button", text: "Click me"
#   render "shared/button", text: "Logout", type: :secondary, url: session_path, method: :delete
%>

<% style ||= :primary %>
<% if local_assigns(:url) %>
  <%= button_to text, url, method: local_assigns(:method, :get),
      style: button_styles,
      form: { style: "display: inline;" } %>
<% else %>
  <button type="button" style="<%= button_styles %>"><%= text %></button>
<% end %>

<%#
# Helper method to define button styles
# (This should ideally be in a helper module, but defined here for the partial)
%>
<%
  def button_styles
    case local_assigns(:type)
    when :primary
      # Pixel button styles
      "appearance: none; border: none; padding: 0.8em 2em; font-size: 1.2em; font-family: 'Patrick Hand', cursive; color: #F4F1DE; background: #E07A5F; image-rendering: pixelated; box-shadow: 0 0 0 0.15em #2B2D42, 0 0 0 0.3em #F4F1DE, 0 0 0 0.45em #2B2D42, 0 0 0.3em 0 0 #a64d3f, 0 0 0.3em 0 0.15em #2B2D42; outline: none; transition: all 0.15s steps(1); cursor: pointer;"
    when :secondary
      # Logout button styles
      "background: #E07A5F; color: #F4F1DE; border: none; padding: 10px 20px; border-radius: 5px; font-family: 'Patrick Hand', cursive; font-size: 1em; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"
    else
      ""
    end
  end
%>
