<%= form_with model: user, url: profile_path, method: :patch do |f| %>
  <div class="space-y-10">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="bg-slate-900 border-4 border-slate-800 p-6">
        <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-4 tracking-widest">1. Your Experience</h3>
        <div class="space-y-3">
          <% ["0 sessions", "1-3 sessions", "4-20 sessions", ">20 sessions"].each do |exp| %>
            <label class="flex items-center gap-3 cursor-pointer group">
              <%= f.radio_button :experience_level, exp, class: "accent-indigo-500 w-4 h-4" %>
              <span class="text-[10px] uppercase font-bold text-slate-400 group-hover:text-white"><%= exp %></span>
            </label>
          <% end %>
          <div class="mt-4 pt-4 border-t border-slate-800">
            <label class="flex items-center gap-3 cursor-pointer">
              <%= f.check_box :dm_experience, class: "accent-indigo-500 w-4 h-4" %>
              <span class="text-[10px] uppercase font-bold text-slate-400 italic">I have DMed before</span>
            </label>
          </div>
        </div>
      </div>

      <div class="bg-slate-900 border-4 border-slate-800 p-6">
        <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-4 tracking-widest">2. Preferred Roles</h3>
        <div class="space-y-3">
          <% ["Dungeon Master", "Player", "Supporter / Helper"].each do |role| %>
            <label class="flex items-center gap-3 cursor-pointer group">
              <%= f.check_box :roles, { multiple: true, class: "accent-indigo-500 w-4 h-4" }, role, nil %>
              <span class="text-[10px] uppercase font-bold text-slate-400 group-hover:text-white"><%= role %></span>
            </label>
          <% end %>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="bg-slate-900 border-4 border-slate-800 p-6">
        <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-4 tracking-widest">3. Playstyle Archetypes</h3>
        <div class="grid grid-cols-2 gap-4">
          <% [{ icon: "user", label: "Acting" }, { icon: "zap", label: "Instigating" }, { icon: "map", label: "Adventuring" }, { icon: "target", label: "Optimizing" }].each do |style| %>
            <label class="p-3 bg-slate-800 border-2 border-slate-700 hover:border-indigo-500 cursor-pointer text-center block">
              <%= f.check_box :styles, { multiple: true, class: "hidden" }, style[:label], nil %>
              <%= lucide_icon style[:icon], width: 16, height: 16, class: "mx-auto mb-2 text-indigo-400" %>
              <p class="text-[8px] font-black uppercase"><%= style[:label] %></p>
            </label>
          <% end %>
        </div>
      </div>

      <div class="bg-slate-900 border-4 border-slate-800 p-6">
        <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-4 tracking-widest">4. Atmosphere Focus</h3>
        <div class="space-y-4">
          <% [{ icon: "sparkles", label: "Classic High Fantasy" }, { icon: "ghost", label: "Dark Horror" }, { icon: "smile", label: "General Silliness" }].each do |atm| %>
            <label class="flex items-center justify-between p-3 bg-slate-950 border border-slate-800 cursor-pointer">
              <div class="flex items-center gap-3">
                <%= lucide_icon atm[:icon], width: 14, height: 14, class: "text-slate-500" %>
                <span class="text-[9px] uppercase font-bold"><%= atm[:label] %></span>
              </div>
              <%= f.check_box :atmospheres, { multiple: true, class: "accent-indigo-500" }, atm[:label], nil %>
            </label>
          <% end %>
        </div>
      </div>
    </div>

    <div class="bg-slate-900 border-4 border-slate-800 p-6">
      <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-6 tracking-widest">5. Weekly Availability</h3>
      <div class="overflow-x-auto">
        <table class="w-full text-center">
          <thead>
            <tr>
              <th class="p-2"></th>
              <% ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"].each do |day| %>
                <th class="p-2 text-[8px] font-black text-slate-500 uppercase"><%= day %></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% ["Morning", "Afternoon", "Evening"].each do |time| %>
              <tr class="border-t border-slate-800">
                <td class="p-2 text-[8px] font-black text-slate-500 uppercase text-left"><%= time %></td>
                <% ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"].each do |day| %>
                  <% key = "#{day.downcase}_#{time.downcase}" %>
                  <td class="p-2">
                    <label class="inline-flex items-center justify-center w-6 h-6 border-2 border-slate-800 bg-slate-950 hover:bg-indigo-600/40 transition-colors cursor-pointer">
                      <%= check_box_tag "user[availability][#{key}]", "1", user.availability[key] == "1", class: "hidden" %>
                    </label>
                  </td>
                <% end %>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="bg-slate-900 border-4 border-slate-800 p-6">
      <h3 class="text-[10px] font-black text-indigo-400 uppercase mb-4 tracking-widest">6. Notifications</h3>
      <label class="flex items-center gap-3 cursor-pointer">
        <%= f.check_box :email_notifications, class: "accent-indigo-500 w-4 h-4" %>
        <span class="text-[10px] uppercase font-bold text-slate-400">Email me when new campaigns match my preferences</span>
      </label>
    </div>

    <div class="flex justify-end pt-6">
      <%= f.submit "SAVE ADVENTURER DATA", class: "bg-emerald-600 text-[10px] font-black py-4 px-10 border-b-8 border-emerald-900 active:border-b-2 active:translate-y-1 transition-all" %>
    </div>
  </div>
<% end %>
